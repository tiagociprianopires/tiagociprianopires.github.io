<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>IPMA Open Data - Biggus Datum</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Vamos lá ver o que estes gajos têm" />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://biggusdatum.com/posts/ipma/ipma-open-data-project-overview/">
  <meta property="og:site_name" content="Biggus Datum">
  <meta property="og:title" content="IPMA Open Data">
  <meta property="og:description" content="Vamos lá ver o que estes gajos têm">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-28T07:11:32+01:00">
    <meta property="article:modified_time" content="2024-02-28T07:11:32+01:00">
    <meta property="article:tag" content="Ipma">
    <meta property="article:tag" content="Pt">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="IPMA Open Data">
  <meta name="twitter:description" content="Vamos lá ver o que estes gajos têm">
<script src="https://biggusdatum.com/js/feather.min.js"></script>
	
	
        <link href="https://biggusdatum.com/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://biggusdatum.com/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://biggusdatum.com/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css"  disabled />
	

	
	
		<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>

		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
	

	
	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>

		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
					renderMathInElement(document.body, {
							delimiters: [
									{left: "$$", right: "$$", display: true},
									{left: "$", right: "$", display: false}
							]
					});
			});
			</script>
	

	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://biggusdatum.com/">Biggus Datum</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">Posts</a>
		
		<a href="/phosts">Phosts</a>
		
		<a href="/collections">Collections</a>
		
		<a href="/tags">Tags</a>
		
		<a href="/about">About</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
		<script src="https://biggusdatum.com/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">IPMA Open Data</h1>
			<div class="meta">Posted on Feb 28, 2024</div>
		</div>
		

		<section class="body">
			<p>Há anos que coleciono os dados da estação metereológica mais perto da horta, em Tavira. Têm sido publicados em PDF (wtf?) <a href="https://www.drapalgarve.gov.pt/ema/tav.htm"   target="_blank">há anos</a> - pelos menos desde 2006.
O problema é que (1) fazer o <em>parsing</em> de um PDF é complicado, (2) mudaram a estrutura um par de vezes e o pior (3) é que em certos meses talvez um sensor deve ter pifado e em vez de colocarem um zero ou string vazia saltaram a célula e portanto há linhas com menos colunas que outras. <em>Oh joy!</em></p>
<p>Para além de tudo isto, são publicados com um mês e meio de atraso, mais coisa menos coisa&hellip;</p>
<p>Enfim, com o tempo fui fazendo um conversor desses dados que me produz um TSV bem formatado. Com isso tenho inserido os dados numa PivotTable, no Excel ou Numbers para os explorar. No passado usei ainda o Tableaux, quando tinha uma licença, mas esses tempos já lá vão.</p>
<p>Em vez de ter isto numa folha de cálculo, gostava de publicar isto num dashboard ou num reporting tool online, mas todos estes passos com os PDFs tornam a coisa complicada de automatizar. Além de que pouco actual.</p>
<p>Entretanto, descobri que o IPMA tem isso tudo em JSON:
<a href="https://api.ipma.pt/open-data/"   target="_blank">https://api.ipma.pt/open-data/</a></p>
<p>Não é a mesma estação, pois a do IPMA é mais perto do mar, on <a href="https://ema.ipma.pt/emas/tavira/"   target="_blank">Forte do Rato</a>.</p>
<p>O IPMA publica as observações horárias, com menos de uma hora de atraso. No entanto, só as últimas 24h.</p>
<p>Portanto, o plano que eu tenho para isto:</p>
<ul>
<li>começar a colecionar as observações horárias</li>
<li>unir o histórico (outra estação, talvez não todas as métricas, enfim) com o <em>near real time</em></li>
<li>como vou ter isto numa BD expor numa web-interface os dados, com tabelas e gráficos simples</li>
</ul>
<p>Há depois uma outra ideia para usar os dados, mas isso fica para mais tarde.</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/ipma">ipma</a></li>
					
					<li><a href="/tags/pt">pt</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
    <div style="display: flex"><a
            class="soc"
            href="https://mastodon.green/@tiagocipriano"
            rel="me"
            title="Mastodon"
            target="_blank"
            ><i data-feather="twitter"></i
        ></a>
        <a class="border"></a><a
            class="soc"
            href="https://www.flickr.com/photos/tiagocipriano/"
            rel="me"
            title="flickr"
            target="_blank"
            ><i data-feather="aperture"></i
        ></a>
        <a class="border"></a></div>
    <div class="footer-info">
        2024  © Tiago Cipriano Pires 
    </div>
</footer>
 
  

 <script>
    feather.replace();
</script></div>
    </body>
</html>
